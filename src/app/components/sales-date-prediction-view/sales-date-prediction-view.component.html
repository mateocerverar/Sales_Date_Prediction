<p-toast/>
<div class="card">
  <div class="w-full surface-900 text-2xl p-3 m-0 text-white">Sales Date Prediction App</div>
  <div class="card p-3">
    <div class="grid p-4">
      <div class="text-2xl col-6">Customers</div>
      <p-iconField iconPosition="right" class="col-6 p-fluid">
        <p-inputIcon styleClass="pi pi-search" />
        <input type="text" pInputText placeholder="Customer name"
          (input)="dt1.filterGlobal($any($event.target).value, 'contains')" />
      </p-iconField>
    </div>
    <p-table #dt1 [value]="customers" [paginator]="true" [rows]="10" [tableStyle]="{ 'min-width': '50rem' }"
      [rowsPerPageOptions]="[5, 10, 20]" [showCurrentPageReport]="true" currentPageReportTemplate="Rows per page"
      [showPageLinks]="false" styleClass="p-datatable-sm"
      [globalFilterFields]="['customername', 'lastorderdate', 'nextpredictedorder']" [showFirstLastIcon]="false">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th pSortableColumn="customername">
            Customer Name <p-sortIcon field="customername" />
          </th>
          <th pSortableColumn="lastorderdate">
            Last Order Date <p-sortIcon field="lastorderdate" />
          </th>
          <th pSortableColumn="nextpredictedorder">
            Next Predicted Order<p-sortIcon field="nextpredictedorder" />
          </th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-customer>
        <tr>
          <td>{{ customer.customername }}</td>
          <td>{{ customer.lastorderdate | date:'shortDate' }}</td>
          <td>{{ customer.nextpredictedorder | date:'shortDate' }}</td>
          <td>
            <div class="flex">
              <p-button pRipple type="button" label="VIEW ORDERS" (onClick)="showOrdersView(customer)" [text]="true"
                severity="danger">
              </p-button>
              <p-button pRipple type="button" label="NEW ORDER" (onClick)="showNewOrderView(customer)" [text]="true" severity="success">
              </p-button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
